<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Mind-to-Art Generator</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f0f2f5;
      color: #333;
      padding: 20px;
      transition: background 0.4s, color 0.4s;
    }
    body.dark {
      background: #121212;
      color: #e0e0e0;
    }
    .container {
      max-width: 800px;
      margin: auto;
      background: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      transition: background 0.4s;
    }
    body.dark .container {
      background: #1e1e1e;
    }
    h1 {
      text-align: center;
      color: #1a1a2e;
      margin-bottom: 10px;
    }
    body.dark h1 {
      color: #bb86fc;
    }
    p.center {
      text-align: center;
      font-style: italic;
      color: #555;
    }
    body.dark p.center {
      color: #b0b0b0;
    }
    label {
      display: block;
      margin: 18px 0 5px;
      font-weight: 600;
    }
    input, select, textarea, button {
      width: 100%;
      padding: 10px;
      margin: 8px 0;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 16px;
      transition: background 0.3s, border 0.3s;
    }
    body.dark input,
    body.dark select,
    body.dark textarea,
    body.dark button {
      background: #2c2c2c;
      border: 1px solid #555;
      color: #e0e0e0;
    }
    button {
      background: #1a1a2e;
      color: white;
      font-weight: bold;
      cursor: pointer;
      margin-top: 15px;
      border: none;
    }
    body.dark button {
      background: #bb86fc;
      color: black;
    }
    button:hover {
      opacity: 0.9;
      transform: translateY(-1px);
    }
    button.primary {
      background: #6200ea;
    }
    body.dark button.primary {
      background: #9955d4;
    }
    #styleDescription {
      font-style: italic;
      color: #555;
      padding: 12px;
      background: #f9f9f9;
      border-left: 4px solid #1a1a2e;
      border-radius: 6px;
      font-size: 14px;
    }
    body.dark #styleDescription {
      background: #333;
      color: #ccc;
      border-left-color: #bb86fc;
    }
    #recommendation {
      font-size: 12px;
      color: #888;
      margin-top: -8px;
    }
    body.dark #recommendation {
      color: #aaa;
    }
    #generatedPrompt {
      margin-top: 20px;
      padding: 16px;
      background: #f0f0f0;
      border-radius: 6px;
      white-space: pre-line;
      border: 1px dashed #ccc;
      font-family: 'Courier New', monospace;
      font-size: 14px;
    }
    body.dark #generatedPrompt {
      background: #2a2a2a;
      border-color: #555;
      color: #e0e0e0;
    }
    .toggle {
      display: flex;
      align-items: center;
      margin: 10px 0;
    }
    .toggle label {
      margin: 0;
      font-weight: normal;
    }
    .toggle input {
      width: auto;
      margin-right: 8px;
    }
  </style>
</head>
<body>

  <div class="container">
    <h1>🌌 Mind-to-Art Generator</h1>
    <p class="center"><em>From feeling to cover art — in one breath.</em></p>

    <label for="mood">💭 Describe the Mood (in free sentences):</label>
    <textarea id="mood" rows="3" placeholder="Example: Rain in Tokyo, 2099, alone, with heart-breaking synth music..."></textarea>

    <button class="primary" onclick="interpretAndFill()">🧠 Interpret Mood</button>

    <label for="artist">Artist/Band Name:</label>
    <input type="text" id="artist" placeholder="Example: Neon Tears, Void Echo" />

    <label for="title">Song/Album Title:</label>
    <input type="text" id="title" placeholder="Example: Nocturnal, Ghost Signal, Monochrome Heart" />

    <label for="genre">Music Genre:</label>
    <input type="text" id="genre" placeholder="Example: Synthwave, Lo-fi, Black Metal" />

    <label for="designer">Choose Designer Style:</label>
    <select id="designer"></select>

    <div id="styleDescription">Select a designer to see their signature style...</div>
    <div id="recommendation">(Automatically recommended based on genre)</div>

    <label for="element">Additional Visual Element (optional):</label>
    <input type="text" id="element" placeholder="Example: neon city, floating kanji, broken glass" />

    <button onclick="generatePoeticPrompt()">✨ Generate Prompt</button>
    <button onclick="copyPrompt()">📋 Copy to Clipboard</button>
    <button onclick="downloadPrompt()">💾 Download as .txt</button>

    <div class="toggle">
      <input type="checkbox" id="darkMode">
      <label for="darkMode">🌙 Dark Mode</label>
    </div>

    <div id="generatedPrompt" style="display:none;"></div>
  </div>

  <script>
    // === Designer List ===
    const designers = [
      { name: "Adrian Marcinek", style: "Minimalist, high contrast, dark abstract textures" },
      { name: "Alan Aldridge", style: "1970s psychedelic, surreal illustrations, bright & organic colors" },
      { name: "Alex Steinweiss", style: "1940–50s graphic design, vintage typography" },
      { name: "Andy Warhol", style: "Pop Art, repetition, bold flat colors" },
      { name: "Aude Brisson", style: "Feminine, organic, delicate ink strokes" },
      { name: "Banksy", style: "Black-and-white stencil, social satire, urban" },
      { name: "Barney Bubbles", style: "UK Punk/Post-punk 70–80s, experimental" },
      { name: "Bernarda Nibera Conic", style: "Emotional abstraction, thick paint textures" },
      { name: "Björn Bauer", style: "Digital surreal, futuristic, organic & mechanical" },
      { name: "Cal Schenkel", style: "Absurd collage, weird cartoon style (Frank Zappa)" },
      { name: "Christophe Szpajdel", style: "Metal logos; sharp, gothic, hand-drawn lettering" },
      { name: "Daniel Vincent Gomes", style: "Epic digital painting, dark fantasy" },
      { name: "David Carson", style: "Grunge, destroyed typography, artistic chaos" },
      { name: "David Stone Martin", style: "Jazz 50–60s, linear sketches, monochrome" },
      { name: "Derek Riggs", style: "Epic metal, robotic characters (Iron Maiden)" },
      { name: "Ekaterina Gorbacheva", style: "Russian surreal, dark pastel, dreamlike" },
      { name: "Ella Mezule", style: "Soft abstraction, calm colors, meditative" },
      { name: "Emek Golan", style: "Rock posters, dense details, psychedelic" },
      { name: "Felipe Novoa", style: "Strong typography, modern minimalism" },
      { name: "HR Giger", style: "Biomechanical, dark, artistic horror" },
      { name: "Herm the Younger", style: "Vintage Americana, ink & brush strokes" },
      { name: "Hugh Syme", style: "Progressive rock/metal, symbolic, complex" },
      { name: "Jack McArdle", style: "Hyper-detailed digital realism, characters" },
      { name: "Jamie Hewlett", style: "Gorillaz, comic style, bright colors" },
      { name: "John Berg", style: "Classic design, elegant, balanced" },
      { name: "John Pasche", style: "Iconic, strong symbols (Rolling Stones)" },
      { name: "Julian Opie", style: "Digital minimalism, simple silhouettes" },
      { name: "Juliana Žamoit", style: "Watercolor & ink, natural, feminine" },
      { name: "Larry Carroll", style: "Dark oil painting, blood & fire" },
      { name: "Leonardo Moreira", style: "Dynamic abstraction, expressive" },
      { name: "Michael Bierut", style: "Modern design, clean, professional" },
      { name: "Milton Glaser", style: "1960s psychedelic, bright colors, spiral" },
      { name: "Paula Scher", style: "Large typography, bold color blocks, energetic" },
      { name: "Paul Whitehead", style: "Prog rock, surreal illustration, dark fantasy" },
      { name: "Peter Blake", style: "British Pop Art, cultural icon collage" },
      { name: "Peter Saville", style: "Elegant minimalism, abstract, Factory Records" },
      { name: "Reid Miles", style: "Jazz Blue Note, experimental typography" },
      { name: "Ryan McGinley", style: "Free photography, youth, nature" },
      { name: "Robert Vargas", style: "Urban murals, realistic portraits, community" },
      { name: "Roger Dean", style: "Floating fantasy worlds, organic architecture" },
      { name: "Stanley “Mouse” Miller", style: "1960s psychedelic rock, circular ornaments" },
      { name: "Storm Thorgerson", style: "Surreal concept, real photos + odd elements" },
      { name: "Trent Walton", style: "Modern design, clean, beautiful typography" },
      { name: "Vaughan Oliver", style: "Abstract, textures, mysterious, dark art" }
    ];

    // Populate designer dropdown
    const select = document.getElementById("designer");
    designers.forEach(d => {
      const opt = document.createElement("option");
      opt.value = d.name;
      opt.textContent = d.name;
      select.appendChild(opt);
    });

    // Update style description
    select.addEventListener("change", () => {
      const desc = document.getElementById("styleDescription");
      const selected = designers.find(d => d.name === select.value);
      desc.textContent = `Style: ${selected.name} — ${selected.style}`;
      document.getElementById("recommendation").style.display = "none";
    });

    // Initialize first description
    document.getElementById("styleDescription").textContent = `Style: ${designers[0].name} — ${designers[0].style}`;

    // === Genre to Designer Mapping ===
    const genreToDesigner = {
      "synthwave": "Adrian Marcinek",
      "lofi|lo-fi|chillhop|chill hop": "Ella Mezule",
      "hip hop|hip-hop": "David Carson",
      "black metal": "Christophe Szpajdel",
      "jazz": "David Stone Martin",
      "pop": "Andy Warhol",
      "electronic|techno|house": "Peter Saville",
      "rock": "Hugh Syme",
      "punk|grunge": "David Carson",
      "metal": "Derek Riggs",
      "dream pop|shoegaze": "Vaughan Oliver",
      "psychedelic|psyche": "Alan Aldridge",
      "ambient": "Bernarda Nibera Conic",
      "funk|soul": "Milton Glaser",
      "folk|acoustic": "Juliana Žamoit"
    };

    // === Auto-Recommend Designer ===
    function recommendDesigner() {
      const genreInput = document.getElementById("genre").value.trim().toLowerCase();
      if (!genreInput) return;

      let recommended = null;
      for (const [pattern, designer] of Object.entries(genreToDesigner)) {
        if (new RegExp(pattern, "i").test(genreInput)) {
          recommended = designer;
          break;
        }
      }

      if (recommended) {
        const designerSelect = document.getElementById("designer");
        const matchOption = Array.from(designerSelect.options).find(opt => opt.value === recommended);
        if (matchOption) {
          designerSelect.value = recommended;
          const event = new Event("change");
          designerSelect.dispatchEvent(event);
        }
      }
    }

    // Listen to genre input
    document.getElementById("genre").addEventListener("input", recommendDesigner);

    // === Interpret Mood ===
    function interpretMood(text) {
      const keywords = {
        genre: {
          "synth|retro|vhs|neon|80s|cyber|future": "Synthwave",
          "lofi|chill|jazz|tape|hazy|relax": "Lo-fi Hip Hop",
          "metal|dark|blood|demonic|black|heavy": "Black Metal",
          "dream|float|soft|ethereal|shoegaze": "Dream Pop",
          "punk|chaos|grunge|rebel|anarchy": "Punk Rock",
          "pop|shine|glam|colorful|bubblegum": "Pop",
          "jazz|swing|club|smoke|noir": "Jazz",
          "electronic|techno|house|club": "Electronic",
          "ambient|quiet|still": "Ambient",
          "folk|acoustic|campfire": "Folk"
        },
        mood: {
          "melankolis|lonely|empty|silent|broken": "Melancholic",
          "epic|hero|battle|rise|legend": "Epic",
          "chaos|noise|broken|angry|rage": "Chaotic",
          "calm|peaceful|breath|natural|serene": "Calm",
          "futuristic|cyber|digital|neon|machine": "Futuristic",
          "horror|scary|blood|death": "Horror"
        },
        color: {
          "blue|neon|electric|sky|metal|cyber": "Electric blue, black, neon blue",
          "red|blood|fire|hot|anger": "Blood red, black, bright orange",
          "pink|purple|glow|dream": "Neon pink, deep purple, soft yellow",
          "green|toxic|nuclear|mushroom|alien": "Toxic green, gray, black",
          "monochrome|black|white|gray|grayscale": "Black, white, gray",
          "bright colors|rainbow|cheerful": "Bright rainbow, high contrast"
        },
        typography: {
          "glitch|broken|digital|error|pixel": "Glitch typography, transparent, offset layers",
          "japanese|kanji|calligraphy|brush|handwritten": "Japanese typography, brush strokes, semi-transparent",
          "gothic|sharp|handwritten|metal": "Gothic hand-drawn, thick black ink",
          "minimalist|typography|clean|sans-serif": "Minimalist typography, modern sans-serif",
          "vintage|retro|typewriter": "Vintage typewriter, aged paper"
        }
      };

      const result = {};
      for (const [category, rules] of Object.entries(keywords)) {
        let match = "default";
        for (const [pattern, value] of Object.entries(rules)) {
          if (new RegExp(pattern, "i").test(text)) {
            match = value;
            break;
          }
        }
        result[category] = match;
      }
      return result;
    }

    function extractVisualFromMood(text) {
      const visuals = {
        "tokyo|city|urban|neon|rain": "neon city at night, rain reflections",
        "forest|nature|trees|sunrise": "ancient forest with morning mist",
        "space|galaxy|stars|cosmic": "cosmic nebula with drifting planets",
        "cave|stone|fire|fireflies": "cave with glowing fungi and fireflies",
        "market|traditional|indonesia|nusantara": "vibrant traditional market at dusk"
      };
      for (const [pattern, value] of Object.entries(visuals)) {
        if (new RegExp(pattern, "i").test(text)) return value;
      }
      return "";
    }

    function interpretAndFill() {
      const moodText = document.getElementById("mood").value.trim();
      if (!moodText) {
        alert("Please describe your mood first...");
        return;
      }

      const interpreted = interpretMood(moodText);
      const visual = extractVisualFromMood(moodText);

      document.getElementById("genre").value = interpreted.genre;
      if (visual) document.getElementById("element").value = visual;

      document.getElementById("genre").dispatchEvent(new Event("input"));
    }

    // === Generate Prompt: Only Title, No Extra Text ===
    function generatePoeticPrompt() {
      const title = document.getElementById("title").value.trim() || "Untitled";
      const genre = document.getElementById("genre").value.trim() || "an unnamed genre";
      const designer = document.getElementById("designer").value;
      const element = document.getElementById("element").value.trim();
      const moodText = document.getElementById("mood").value.trim();

      const interpretation = interpretMood(moodText);
      const colors = interpretation.color;
      const typography = interpretation.typography;
      const styleDesc = designers.find(d => d.name === designer)?.style.toLowerCase() || "";

      let prompt = "";

      if (moodText) {
        prompt += `An evocative music album cover that captures the emotional essence of: "${moodText}". `;
      } else {
        prompt += `A visually striking album cover inspired by ${genre} culture. `;
      }

      // 🔐 ONLY TITLE — STRONG & CLEAR
      prompt += `The ONLY text in the entire artwork is the song title: "${title}". `;
      prompt += `Do NOT include ANY text, labels, signatures, artist names, band logos, record labels, phone numbers, website URLs, or hidden watermarks. `;
      prompt += `Absolutely NO random words, letters, or symbols that look like text. `;
      prompt += `If any text appears other than "${title}", it is a failure. `;

      // 🎨 Style inspiration
      prompt += `Artistic style inspired by ${styleDesc}. `;
      prompt += `Avoid literal depictions of musicians, portraits, or stage performances. `;
      prompt += `Instead, express the music through abstract shapes, environmental storytelling, or symbolic composition. `;

      // 🎨 Colors & typography
      prompt += `Color palette: ${colors}. `;
      prompt += `Typography: ${typography}, seamlessly integrated into the scene — not floating or pasted on. `;

      // 🖼 Visual element
      if (element) {
        prompt += `Central visual motif: ${element}. `;
      } else {
        prompt += `Visual theme should reflect the mood and genre without relying on human figures. `;
      }

      // ✨ Final quality
      prompt += `Ultra-detailed, 4K resolution, cinematic lighting, digital painting, surreal realism, high contrast. `;
      prompt += `Focus on atmosphere, texture, and emotion — not on portraits or branding.`;

      const output = document.getElementById("generatedPrompt");
      output.style.display = "block";
      output.textContent = prompt;
    }

    // Copy to clipboard
    function copyPrompt() {
      const output = document.getElementById("generatedPrompt");
      if (output.style.display === "none") {
        alert("Please generate a prompt first.");
        return;
      }
      navigator.clipboard.writeText(output.textContent).then(() => {
        alert("✅ Prompt copied to clipboard!");
      });
    }

    // Download as .txt
    function downloadPrompt() {
      const output = document.getElementById("generatedPrompt");
      if (output.style.display === "none") {
        alert("Please generate a prompt first.");
        return;
      }
      const text = output.textContent;
      const blob = new Blob([text], { type: "text/plain" });
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = (document.getElementById("title").value || "cover").replace(/\s/g, "_") + "_prompt.txt";
      a.click();
      URL.revokeObjectURL(url);
    }

    // Dark Mode
    document.getElementById("darkMode").addEventListener("change", (e) => {
      document.body.classList.toggle("dark", e.target.checked);
    });
  </script>
</body>
</html>